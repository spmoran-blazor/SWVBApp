@attribute [Authorize]
@inject StateAccessService state

@*<Client.Components.Spinner DisplayStyle="display:none;" />*@

<MudStack Spacing="2" Row="true" Justify="Justify.Center" Class="pb-2 pt-10">
    <MudButton Variant="Variant.Filled" Style="@($"background-color:{Colors.Blue.Default}; color:{Colors.Shades.White};width: 200px; height: 60px;")" StartIcon="@Icons.Filled.SportsVolleyball" Href="/1" Size="Size.Large">Games</MudButton>
    <MudButton Style="width: 200px; height: 60px;" Variant="Variant.Filled" Color="Color.Success" StartIcon="@Icons.Material.Filled.CalendarMonth" Href="/3" Size="Size.Large">Available</MudButton>
</MudStack>

<MudStack Spacing="2" Row="true" Justify="Justify.Center" Class="pb-2">
    <MudButton Style="width: 200px; height: 60px;" Variant="Variant.Filled" Color="Color.Error" StartIcon="@Icons.Material.Filled.EditCalendar" Href="/4" Size="Size.Large">Exceptions</MudButton>
    <MudButton Style="width: 200px; height: 60px;" Variant="Variant.Filled" Color="Color.Primary" StartIcon="@Icons.Material.Filled.PermIdentity" Href="/2" Size="Size.Large">Profile</MudButton>
</MudStack>

@if (_admin is not null && _admin == true)
{
    <MudStack Spacing="2" Row="true" Justify="Justify.Center" Class="pb-2 pt-10">
        <MudButton Variant="Variant.Outlined" Color="Color.Primary" StartIcon="@Icons.Filled.Create" Href="/101" Size="Size.Large" Style="width: 200px; height: 60px;">Create Game</MudButton>
        <MudButton Variant="Variant.Outlined" Color="Color.Primary" StartIcon="@Icons.Filled.Delete" Href="/102" Size="Size.Large" Style="width: 200px; height: 60px;">Delete Game</MudButton>
    </MudStack>
}
@code {
    private StateAccessService _state;
    private bool? _admin = null;

    protected override async Task OnInitializedAsync()
    {
        _state = state;
        if (_state.Member.IsAdmin)
        {
            _admin = true;
        }


    }
}
