@using MudBlazor
@inject NavigationManager UriHelper

<MudAppBar Bottom="true" Fixed="true" Color="Color.Primary" Elevation="1">
    <MudMenu Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" Size="Size.Large">
        <MudMenuItem Href="/AddEvent" Match="NavLinkMatch.Prefix" Icon="@Icons.Filled.EditCalendar">Manage Games</MudMenuItem>
    </MudMenu>
    <MudSpacer />
    <MudIconButton Icon="@Icons.Filled.Message" Color="Color.Inherit" Edge="Edge.End" OnClick="OnIndexClick" Size="Size.Large" />
    <MudSpacer />
    <MudIconButton Icon="@Icons.Filled.EditCalendar" Color="Color.Inherit" Edge="Edge.End" Href="/eventregister" Size="Size.Large" />
    <MudSpacer />
    <MudIconButton Icon="@Icons.Material.Filled.PermIdentity" Color="Color.Inherit" Edge="Edge.End" Href="/profile" Size="Size.Large" />
    <MudSpacer />
    <MudIconButton Icon="@Icons.Material.Filled.Logout" Color="Color.Inherit" Edge="Edge.End" Href="/.auth/logout" Size="Size.Large" />
</MudAppBar>

@code {
    [Parameter]
    public int UserId { get; set; }

    //protected int _userId = Convert.ToInt32(await sessionStorage.GetItemAsync<string>("userId"));
    bool _drawerOpen = true;

    void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }

    private void OnIndexClick()
    {
        UriHelper.NavigateTo($"/{UserId}");
    }
}
